---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import BaseHead from "../../components/BaseHead.astro";
import Footer from "../../components/Footer.astro";
import FormattedDate from "../../components/FormattedDate.astro";
import Header from "../../components/Header.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../../consts";
import MainLayout from "../../layouts/MainLayout.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<MainLayout>
    <section>
        <ul class="flex flex-col gap-4 justify-center">
            {
                posts.map((post) => (
                    <li
                    class="flex justify-between items-center"
                    >
                        <a
                            href={`/blog/${post.id}/`}
                            class="hover:text-neutral-50 text-bold hover:underline"
                        >
                            <h4>{post.data.title}</h4>
                        </a>
                        <p class="date m-0 text-neutral-500 text-sm">
                            <FormattedDate date={post.data.pubDate} />
                        </p>
                    </li>
                    <hr class="text-neutral-800" />
                ))
            }
        </ul>
    </section>
</MainLayout>
